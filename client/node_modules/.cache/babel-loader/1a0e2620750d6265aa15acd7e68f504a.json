{"ast":null,"code":"var _jsxFileName = \"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\client\\\\src\\\\pages\\\\Signin.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./style.css\";\nimport API from \"../utils/API\";\nvar UsermemberID = \"\";\n\nclass Signin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      memberId: \"\",\n      user: {},\n      membername: \"\",\n      userName: \"\",\n      memberpassword: \"\",\n      redirect: false,\n      isError: false,\n      errorMessage: '',\n      message: ''\n    };\n\n    this.handleInputChange = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.signInSubmit = event => {\n      event.preventDefault();\n      const _this$state = this.state,\n            memberemail = _this$state.memberemail,\n            memberpassword = _this$state.memberpassword;\n\n      if (!memberemail) {\n        this.message = \"Username cannot be empty\";\n        this.setState({\n          message: \"Username cannot be empty\"\n        });\n        return;\n      } else {\n        this.message = \" \";\n        this.setState({\n          message: \" \"\n        });\n      }\n\n      if (!memberpassword) {\n        this.message = \"Password cannot be empty\";\n        this.setState({\n          message: \"Password cannot be empty\"\n        });\n        return;\n      } else {\n        this.message = \" \";\n        this.setState({\n          message: \" \"\n        });\n      }\n\n      const userAccount = {\n        memberemail,\n        memberpassword\n      };\n      this.setState({\n        memberemail: '',\n        memberpassword: ''\n      });\n      let userName = String(userAccount.memberemail);\n      let password = String(userAccount.memberpassword);\n      UsermemberID = String(userAccount.memberemail);\n      API.loginUser({\n        userName: userName,\n        password: password\n      }).then(res => {\n        const data = res.data.data;\n\n        if (res.data.error === \"Invalid Password\") {\n          console.log(res.data);\n          this.message = res.data.error;\n          this.setState({\n            isError: true,\n            errorMessage: res.data.error,\n            memberemail: \" \",\n            memberpassword: \" \",\n            message: res.data.error\n          });\n        } else if (res.data.error === \"User does not exist!\") {\n          console.log(res.data);\n          this.message = res.data.error;\n          this.setState({\n            isError: true,\n            errorMessage: res.data.error,\n            memberemail: \" \",\n            memberpassword: \" \",\n            message: res.data.error\n          });\n        } else {\n          this.setState({\n            redirect: true,\n            userName: data[0].memberId,\n            memberId: data[0].memberId,\n            membername: data[0].memberName\n          });\n          this.props.saveMemberID(userName, data[0].memberName);\n        }\n      }).catch(err => console.log(err));\n    };\n  }\n\n  render() {\n    if (this.state.redirect) {\n      this.props.saveMemberID(UsermemberID);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/UserPage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        marginTop: 80\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, this.message), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-groups\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.memberemail,\n      onChange: this.handleInputChange,\n      name: \"memberemail\",\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Enter Your Email\",\n      id: \"memberemail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.memberpassword,\n      onChange: this.handleInputChange,\n      name: \"memberpassword\",\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter User Password\",\n      id: \"memberpassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"signin-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.signInSubmit,\n      className: \"btn btn-primary float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 44\n      }\n    }, \"Sign In\"))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, \"No Account? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/Getstarted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 50\n      }\n    }, \"Create Account\")))));\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["C:/BootCamp/Final Project/pecomm/client/src/pages/Signin.js"],"names":["React","Component","Container","Redirect","API","UsermemberID","Signin","state","memberId","user","membername","userName","memberpassword","redirect","isError","errorMessage","message","handleInputChange","event","name","target","value","setState","signInSubmit","preventDefault","memberemail","userAccount","String","password","loginUser","then","res","data","error","console","log","memberName","props","saveMemberID","catch","err","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./style.css\";\nimport API from \"../utils/API\";\n\n\nvar UsermemberID = \"\"\nclass Signin extends Component {\n  state = {\n    memberId: \"\",\n    user:{},\n    membername: \"\",\n    userName: \"\",\n    memberpassword: \"\",  \n    redirect: false,\n    isError: false,\n    errorMessage: '',\n    message: '',\n   \n    \n  };\n\n\n  handleInputChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n    \n  signInSubmit = event => {\n    event.preventDefault();\n    const {memberemail, memberpassword} = this.state\n\n    if (!memberemail) {\n      this.message = \"Username cannot be empty\"\n      this.setState({message: \"Username cannot be empty\"})         \n      return;\n    } else {\n      this.message = \" \"\n      this.setState({message: \" \"})      \n    }\n    \n    if (!memberpassword) {\n      this.message = \"Password cannot be empty\"\n      this.setState({message: \"Password cannot be empty\"})       \n      return;\n    } else {\n      this.message = \" \"\n      this.setState({message: \" \"})      \n  }\n\n    const userAccount = {     \n      memberemail,  \n      memberpassword,     \n    }\n\n    this.setState({\n      memberemail: '',      \n      memberpassword: '',    \n    })    \n        \n   \n    let userName = String(userAccount.memberemail)   \n    let password = String(userAccount.memberpassword)\n    UsermemberID = String(userAccount.memberemail)\n    API.loginUser({     \n      userName: userName,      \n      password: password,\n\n    })    \n    .then(res => {\n      \n      const { data } = res.data;\n      if(res.data.error === \"Invalid Password\"){\n        console.log(res.data)\n        this.message = res.data.error        \n        this.setState({\n          isError: true,         \n          errorMessage: res.data.error,\n          memberemail: \" \",      \n          memberpassword: \" \",\n          message: res.data.error\n        })\n      } else if (res.data.error === \"User does not exist!\"){\n          console.log(res.data)\n          this.message = res.data.error         \n          this.setState({\n            isError: true,            \n            errorMessage: res.data.error,\n            memberemail: \" \",      \n            memberpassword: \" \",\n            message: res.data.error\n          })\n      \n      } else {\n    \n        this.setState({\n          redirect: true,\n          userName: data[0].memberId,\n          memberId: data[0].memberId,\n          membername: data[0].memberName,\n  \n        })\n        this.props.saveMemberID(userName, data[0].memberName)\n        \n        \n      }\n     \n    })    \n    .catch(err => console.log(err));      \n  };\n\n\n  render() {\n    if (this.state.redirect) {\n      this.props.saveMemberID(UsermemberID)\n      return <Redirect to='/UserPage' />\n    }    \n    return (\n      <div>            \n        <Container style={{ marginTop: 80 }}>\n          <div className=\"card card-body\">\n            {/* <div id=\"message\"></div> */}\n            <div id =\"message\">{this.message}</div>\n            <h4 className=\"text-center mb-3\">Sign In</h4>\n            <form className=\"form-groups\">          \n              <div className=\"form-group\">\n                <label id=\"username\">Username</label>\n                <input \n                  value={this.memberemail}\n                  onChange={this.handleInputChange}\n                  name=\"memberemail\"\n                  type=\"text\"\n                  className=\"form-control\"  \n                  placeholder=\"Enter Your Email\"\n                  id=\"memberemail\"\n                  />\n              </div>\n              <div className=\"form-group\">\n                <label id=\"password\">Password</label>\n                <input \n                  value={this.memberpassword}\n                  onChange={this.handleInputChange}\n                  name=\"memberpassword\"\n                  type=\"password\" \n                  className=\"form-control\" \n                  placeholder=\"Enter User Password\"\n                  id=\"memberpassword\" \n                  />\n              </div>\n              <span className=\"signin-btn\"><button type=\"submit\" onClick={this.signInSubmit} className=\"btn btn-primary float-left\">Sign In</button></span>\n            </form>\n            <p className=\"lead mt-4\">No Account? <a href=\"/Getstarted\">Create Account</a></p>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Signin;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}