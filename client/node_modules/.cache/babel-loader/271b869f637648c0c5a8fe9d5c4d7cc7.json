{"ast":null,"code":"var _jsxFileName = \"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\client\\\\src\\\\pages\\\\UserPage.js\";\nimport React, { Component } from \"react\";\nimport \"./themestyle.css\";\nimport { Card, Row, Col } from 'reactstrap';\nimport { Redirect } from \"react-router-dom\";\nimport API from \"../utils/API\";\nimport SearchResults from '../components/SearchResults';\nimport ItemDetails from '../components/ItemDetails';\nvar userArray = [];\nvar membername = \"\";\nvar userName = \"\";\nvar usertheme = \"\";\nvar divStyle = {};\nvar redirectOption = \" \";\n\nclass UserPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      userSettings: [],\n      userArray: [],\n      userCart: [],\n      userTotalItems: 0,\n      userName: this.props.currentUser,\n      redirect: false\n    };\n\n    this.loadUserData = () => {\n      this.setState({\n        userName: this.props.currentUser\n      });\n      userName = this.state.userName;\n      const currentAccount = {\n        userName\n      };\n      this.loadAPIgetUser(currentAccount.userName);\n    };\n\n    this.loadAPIgetUser = id => {\n      const app = this;\n      id = userName;\n      API.getUser({\n        userName: userName\n      }).then(function (res) {\n        return new Promise(function (resolve, reject) {\n          app.setState({\n            user: res.data\n          });\n          resolve(true);\n        });\n      }).then(function () {\n        userArray = [...app.state.user];\n        usertheme = userArray[0].userTheme;\n        membername = userArray[0].memberName;\n        app.userTheme(usertheme);\n      }).catch(err => console.log(err));\n    };\n\n    this.userTheme = id => {\n      divStyle = {\n        color: userArray[0].colorDb,\n        textAlign: userArray[0].textalignDb,\n        fontSize: userArray[0].divfontsizeDb,\n        fontFamily: userArray[0].fontfamilyDb\n      };\n      this.props.setTheme(id);\n    };\n\n    this.userCart = () => {\n      this.loadAPIgetUser(userArray[0].userName);\n    };\n\n    this.logOutPage = () => {\n      redirectOption = \"logOut\";\n      this.props.setTheme(\"theme0\");\n      this.props.logOut();\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.settingButton = () => {\n      redirectOption = \"settings\";\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.todaysDeal = () => {\n      redirectOption = \"todaysDeal\";\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.userCartPage = () => {\n      redirectOption = \"usercartpage\";\n      this.setState({\n        redirect: true\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.loadUserData();\n  }\n\n  render() {\n    if (this.state.redirect) {\n      switch (redirectOption) {\n        case \"logOut\":\n          localStorage.clear();\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 18\n            }\n          });\n\n        case \"settings\":\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/Settings\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 18\n            }\n          });\n\n        case \"todaysDeal\":\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/TodaysDeal\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 18\n            }\n          });\n\n        case \"usercartpage\":\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/Cart\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 18\n            }\n          });\n\n        default:\n          break;\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      size: \"md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 35\n      }\n    }, \" Welcome \", membername, \"!\"))), /*#__PURE__*/React.createElement(Col, {\n      size: \"md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lineitems\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      onClick: () => this.settingButton(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, \"Settings\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      onClick: () => this.todaysDeal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"Todays Deal\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      onClick: () => this.logOutPage(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Sign Out\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, this.props.Items.length !== 0 && /*#__PURE__*/React.createElement(ItemDetails, {\n      cart: this.props.cart,\n      saveForLater: this.props.saveForLater,\n      detailItem: this.props.detailItem,\n      addItemToCart: this.props.addItemToCart,\n      addItemToSaveForLater: this.props.addItemToSaveForLater,\n      additemDetails: this.props.additemDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), this.props.Items.length !== 0 && /*#__PURE__*/React.createElement(SearchResults, {\n      userName: this.state.userName,\n      Items: this.props.Items,\n      cart: this.props.cart,\n      saveForLater: this.props.saveForLater,\n      totalItems: this.props.totalItems,\n      totalSavedItems: this.props.totalSavedItems,\n      detailItem: this.props.detailItem,\n      addItemToCart: this.props.addItemToCart,\n      addItemToSaveForLater: this.props.addItemToSaveForLater,\n      additemDetails: this.props.additemDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      size: \"md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"contents-r2-c2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inside-upage-box\",\n      onClick: () => this.userCartPage(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 28\n      }\n    }, \"Cart\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 39\n      }\n    }, \"...\"), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 55\n      }\n    }, this.props.totalItems)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upage-box-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, this.props.cart.map(cart => /*#__PURE__*/React.createElement(\"span\", {\n      key: cart[0].itemId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: cart[0].name,\n      width: \"80\",\n      height: \"100\",\n      className: \"img-fluid\",\n      src: cart[0].largeImage == null ? 'https://lmtrain.github.io/lm-images/assets/images/books5.jpg' : cart[0].largeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      key: cart[0].itemId,\n      onClick: () => this.props.deleteItem(cart[0].itemId),\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 27\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 30\n      }\n    }, \"Item Name             :\"), \" \", cart[0].name), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 27\n      }\n    }, \"Price         :\"), \" $\", cart[0].salePrice, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 27\n      }\n    }, cart[0].itemId))))))), /*#__PURE__*/React.createElement(Col, {\n      size: \"md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"contents-r2-c1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inside-upage-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 30\n      }\n    }, \"SavedItems\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 47\n      }\n    }, \"..\"), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 62\n      }\n    }, this.props.totalSavedItems)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upage-box-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 23\n      }\n    }, this.props.saveForLater.map(saveForLater => /*#__PURE__*/React.createElement(Col, {\n      key: saveForLater[0].itemId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: saveForLater[0].name,\n      width: \"80\",\n      height: \"100\",\n      className: \"img-fluid\",\n      src: saveForLater[0].largeImage == null ? 'https://lmtrain.github.io/lm-images/assets/images/books5.jpg' : saveForLater[0].largeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 32\n      }\n    }, \"Item Name             :\"), \" \", saveForLater[0].name), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    }, \"Price         :\"), \" $\", saveForLater[0].salePrice))))))))));\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["C:/BootCamp/Final Project/pecomm/client/src/pages/UserPage.js"],"names":["React","Component","Card","Row","Col","Redirect","API","SearchResults","ItemDetails","userArray","membername","userName","usertheme","divStyle","redirectOption","UserPage","state","user","userSettings","userCart","userTotalItems","props","currentUser","redirect","loadUserData","setState","currentAccount","loadAPIgetUser","id","app","getUser","then","res","Promise","resolve","reject","data","userTheme","memberName","catch","err","console","log","color","colorDb","textAlign","textalignDb","fontSize","divfontsizeDb","fontFamily","fontfamilyDb","setTheme","logOutPage","logOut","settingButton","todaysDeal","userCartPage","componentWillMount","render","localStorage","clear","Items","length","cart","saveForLater","detailItem","addItemToCart","addItemToSaveForLater","additemDetails","totalItems","totalSavedItems","map","itemId","name","largeImage","deleteItem","salePrice"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./themestyle.css\";\nimport { Card, Row, Col} from 'reactstrap';\nimport { Redirect } from \"react-router-dom\";\nimport API from \"../utils/API\";\nimport SearchResults from '../components/SearchResults';\nimport ItemDetails from '../components/ItemDetails';\n\nvar userArray = []\nvar membername = \"\"\nvar userName =\"\"\nvar usertheme = \"\";\nvar divStyle = {};\nvar redirectOption = \" \"\n\nclass UserPage extends Component {\n  \n  state = {    \n    user:[],\n    userSettings: [],\n    userArray: [],\n    userCart: [],\n    userTotalItems: 0,\n    userName: this.props.currentUser,\n    redirect: false,    \n  };\n\n  componentWillMount() {\n    this.loadUserData();    \n  }\n\n  loadUserData = () => {\n    this.setState({\n      userName: this.props.currentUser\n    })\n    userName = this.state.userName\n  \n    const currentAccount = {     \n      userName,          \n    }\n    this.loadAPIgetUser(currentAccount.userName);\n  }\n\n  loadAPIgetUser = (id) => {\n    const app = this;\n    id = userName\n    API.getUser({      \n      userName: userName,               \n    })\n    .then(function(res){\n      return new Promise(function(resolve, reject){\n        app.setState({ user: res.data })\n        resolve(true);\n      })\n    }).then(function(){\n      userArray = [...app.state.user]\n      usertheme = userArray[0].userTheme\n      membername = userArray[0].memberName\n      app.userTheme(usertheme);\n    })\n    .catch(err => console.log(err));\n  }\n\n  userTheme = (id) => { \n    divStyle = {\n      color: userArray[0].colorDb,\n      textAlign: userArray[0].textalignDb,\n      fontSize: userArray[0].divfontsizeDb,\n      fontFamily: userArray[0].fontfamilyDb,\n    };\n    this.props.setTheme(id)    \n  }\n\n  \n  // GETTING USERS INFO FROM DB\n  userCart = () => {\n    this.loadAPIgetUser(userArray[0].userName)\n\n  }\n\n  logOutPage = () => {    \n    redirectOption = \"logOut\"\n    this.props.setTheme(\"theme0\")\n    this.props.logOut()\n      this.setState({\n        redirect: true,\n      })\n  }  \n\n  settingButton = () => {\n    redirectOption = \"settings\"\n    this.setState({\n      redirect: true,       \n    })    \n  }\n  \n  todaysDeal = () => {\n    redirectOption = \"todaysDeal\"\n    this.setState({\n      redirect: true,       \n    })    \n  }\n  \n  userCartPage = () => {\n    redirectOption = \"usercartpage\"\n    this.setState({\n      redirect: true,       \n    })    \n\n  }\n  \n\n  render() {    \n    if (this.state.redirect) {\n      switch(redirectOption){\n        case \"logOut\":\n            localStorage.clear();\n          return <Redirect to=\"/\"/>;                 \n        case \"settings\":\n          return <Redirect to='/Settings' />;                 \n        case \"todaysDeal\":\n          return <Redirect to='/TodaysDeal' />;\n        case \"usercartpage\":\n          return <Redirect to='/Cart' />;             \n        default:            \n          break;\n      }\n    }\n   \n    return (\n      <div>      \n        <Row>              \n          <Col size=\"md-10\">\n            <div style={divStyle}><b> Welcome {membername}!</b></div>\n          </Col>\n          <Col size=\"md-2\">\n            <div className=\"lineitems\">            \n                <span><button type=\"submit\" className=\"btn btn-success\" onClick={() => this.settingButton()}>Settings</button></span>\n                <button type=\"submit\" className=\"btn btn-success\" onClick={() => this.todaysDeal()}>Todays Deal</button>\n                <button type=\"submit\" className=\"btn btn-success\" onClick={() => this.logOutPage()}>Sign Out</button>\n            </div>        \n          </Col>\n        </Row>\n        {/* <Container style={{ marginTop: 60 }}> */}\n        <div id=\"message\"></div>\n        <Row>  \n          <Col md=\"8\">\n          { this.props.Items.length !== 0 && \n              <ItemDetails cart={this.props.cart} \n              saveForLater={this.props.saveForLater} \n              detailItem={this.props.detailItem} \n              addItemToCart={this.props.addItemToCart} \n              addItemToSaveForLater={this.props.addItemToSaveForLater} \n              additemDetails={this.props.additemDetails}/>\n            }          \n            { this.props.Items.length !== 0 && \n              <SearchResults userName={this.state.userName} \n              Items={this.props.Items} \n              cart={this.props.cart} \n              saveForLater={this.props.saveForLater} \n              totalItems={this.props.totalItems} \n              totalSavedItems={this.props.totalSavedItems} \n              detailItem={this.props.detailItem} \n              addItemToCart={this.props.addItemToCart} \n              addItemToSaveForLater={this.props.addItemToSaveForLater} \n              additemDetails={this.props.additemDetails}/>\n            }          \n          </Col>\n\n          <Col md=\"4\">          \n            <div className=\"gap\"></div>            \n              <Row>\n              <Col size=\"md-4\">\n                <Card className=\"contents-r2-c2\">\n                  <div className=\"inside-upage-box\" onClick={() => this.userCartPage()}>                        \n                    <div className=\"img-container\">\n                      <div><b>Cart</b><span>...</span><b>{this.props.totalItems}</b></div>\n                    </div>                  \n                  </div>\n                  <div className=\"upage-box-content\">\n                    <Row>\n                      {this.props.cart.map(cart => (\n                        <span key={cart[0].itemId}>\n                          <img alt={cart[0].name} width=\"80\" height=\"100\" className=\"img-fluid\" src={cart[0].largeImage == null ? 'https://lmtrain.github.io/lm-images/assets/images/books5.jpg' : cart[0].largeImage} />\n                          <button key={cart[0].itemId} onClick={() => this.props.deleteItem(cart[0].itemId)} className=\"btn btn-success\">Delete</button>\n                          <p><b>Item Name             :</b> {cart[0].name}</p>\n                          <b>Price         :</b> ${cart[0].salePrice}\n                          <p>{cart[0].itemId}</p>\n                        </span>\n                      ))}\n                    </Row>               \n                  </div>\n                </Card>                  \n                </Col>             \n                <Col size=\"md-4\">\n                  <Card className=\"contents-r2-c1\">\n                    <div className=\"inside-upage-box\">\n                      <div className=\"img-container\">\n                        <div><b>SavedItems</b><span>..</span><b>{this.props.totalSavedItems}</b></div>\n                      </div>                  \n                    </div>\n                    <div className=\"upage-box-content\">\n                      <Row>\n                        {this.props.saveForLater.map(saveForLater => (\n                            <Col key={saveForLater[0].itemId} >\n                            <img alt={saveForLater[0].name} width=\"80\" height=\"100\" className=\"img-fluid\" src={saveForLater[0].largeImage == null ? 'https://lmtrain.github.io/lm-images/assets/images/books5.jpg' : saveForLater[0].largeImage} />\n                            <p><b>Item Name             :</b> {saveForLater[0].name}</p>\n                            <b>Price         :</b> ${saveForLater[0].salePrice}\n                          </Col>\n                        ))}\n                      </Row>                      \n                    </div>\n                  </Card>\n                </Col>\n                \n                {/* <Col size=\"md-4\">\n                  <Card className=\"contents-r2-c3\">\n                    <div className=\"inside-upage-box\">\n                      <div className=\"img-container\">\n                        <div><b>Orders</b><span>...</span><b>{this.props.totalItems}</b></div>\n                      </div>                  \n                    </div>\n                    <div className=\"upage-box-content\">\n                      <Row>\n                        {this.props.cart.map(cart => (\n                          <div key={cart[0].itemId}>\n                            <img alt={cart[0].name} width=\"80\" height=\"100\" className=\"img-fluid\" src={cart[0].largeImage == null ? 'https://lmtrain.github.io/lm-images/assets/images/books5.jpg' : cart[0].largeImage} />\n                            <p><b>Item Name             :</b> {cart[0].name}</p>\n                            <b>Price         :</b> ${cart[0].salePrice}\n                          </div>\n                        ))}\n                      </Row>               \n                    </div>                      \n                  </Card>\n                </Col>                            */}\n              </Row>            \n            </Col>            \n            \n          </Row>          \n        {/* </Container> */}\n      </div>\n    );\n  }\n}\n\nexport default UserPage;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}