{"ast":null,"code":"import _defineProperty from\"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\pecomm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\pecomm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\pecomm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\pecomm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\BootCamp\\\\Final Project\\\\pecomm\\\\pecomm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Container from\"../components/Container\";import{Redirect}from\"react-router-dom\";import\"./style.css\";import API from\"../utils/API\";var UsermemberID=\"\";var Signin=/*#__PURE__*/function(_Component){_inherits(Signin,_Component);var _super=_createSuper(Signin);function Signin(){var _this;_classCallCheck(this,Signin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={memberId:\"\",user:{},membername:\"\",userName:\"\",memberpassword:\"\",redirect:false,isError:false,errorMessage:'',message:''};_this.handleInputChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};_this.signInSubmit=function(event){event.preventDefault();var _this$state=_this.state,memberemail=_this$state.memberemail,memberpassword=_this$state.memberpassword;if(!memberemail){_this.message=\"Username cannot be empty\";_this.setState({message:\"Username cannot be empty\"});return;}else{_this.message=\" \";_this.setState({message:\" \"});}if(!memberpassword){_this.message=\"Password cannot be empty\";_this.setState({message:\"Password cannot be empty\"});return;}else{_this.message=\" \";_this.setState({message:\" \"});}var userAccount={memberemail:memberemail,memberpassword:memberpassword};_this.setState({memberemail:'',memberpassword:''});var userName=String(userAccount.memberemail);var password=String(userAccount.memberpassword);UsermemberID=String(userAccount.memberemail);API.loginUser({userName:userName,password:password}).then(function(res){var data=res.data.data;if(res.data.error===\"Invalid Password\"){console.log(res.data);_this.message=res.data.error;_this.setState({isError:true,errorMessage:res.data.error,memberemail:\" \",memberpassword:\" \",message:res.data.error});}else if(res.data.error===\"User does not exist!\"){console.log(res.data);_this.message=res.data.error;_this.setState({isError:true,errorMessage:res.data.error,memberemail:\" \",memberpassword:\" \",message:res.data.error});}else{_this.setState({redirect:true,userName:data[0].memberId,memberId:data[0].memberId,membername:data[0].memberName});_this.props.saveMemberID(userName,data[0].memberName);}}).catch(function(err){return console.log(err);});};return _this;}_createClass(Signin,[{key:\"render\",value:function render(){if(this.state.redirect){this.props.saveMemberID(UsermemberID);return/*#__PURE__*/React.createElement(Redirect,{to:\"/UserPage\"});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{style:{marginTop:80}},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"div\",{id:\"message\"},this.message),/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center mb-3\"},\"Sign In\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form-groups\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{id:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{value:this.memberemail,onChange:this.handleInputChange,name:\"memberemail\",type:\"text\",className:\"form-control\",placeholder:\"Enter Your Email\",id:\"memberemail\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{id:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{value:this.memberpassword,onChange:this.handleInputChange,name:\"memberpassword\",type:\"password\",className:\"form-control\",placeholder:\"Enter User Password\",id:\"memberpassword\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"signin-btn\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:this.signInSubmit,className:\"btn btn-primary float-left\"},\"Sign In\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"lead mt-4\"},\"No Account? \",/*#__PURE__*/React.createElement(\"a\",{href:\"/Getstarted\"},\"Create Account\")))));}}]);return Signin;}(Component);export default Signin;","map":{"version":3,"sources":["C:/BootCamp/Final Project/pecomm/pecomm/src/pages/Signin.js"],"names":["React","Component","Container","Redirect","API","UsermemberID","Signin","state","memberId","user","membername","userName","memberpassword","redirect","isError","errorMessage","message","handleInputChange","event","name","target","value","setState","signInSubmit","preventDefault","memberemail","userAccount","String","password","loginUser","then","res","data","error","console","log","memberName","props","saveMemberID","catch","err","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./style.css\";\nimport API from \"../utils/API\";\n\n\nvar UsermemberID = \"\"\nclass Signin extends Component {\n  state = {\n    memberId: \"\",\n    user:{},\n    membername: \"\",\n    userName: \"\",\n    memberpassword: \"\",  \n    redirect: false,\n    isError: false,\n    errorMessage: '',\n    message: '',\n   \n    \n  };\n\n\n  handleInputChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n    \n  signInSubmit = event => {\n    event.preventDefault();\n    const {memberemail, memberpassword} = this.state\n\n    if (!memberemail) {\n      this.message = \"Username cannot be empty\"\n      this.setState({message: \"Username cannot be empty\"})         \n      return;\n    } else {\n      this.message = \" \"\n      this.setState({message: \" \"})      \n    }\n    \n    if (!memberpassword) {\n      this.message = \"Password cannot be empty\"\n      this.setState({message: \"Password cannot be empty\"})       \n      return;\n    } else {\n      this.message = \" \"\n      this.setState({message: \" \"})      \n  }\n\n    const userAccount = {     \n      memberemail,  \n      memberpassword,     \n    }\n\n    this.setState({\n      memberemail: '',      \n      memberpassword: '',    \n    })    \n        \n   \n    let userName = String(userAccount.memberemail)   \n    let password = String(userAccount.memberpassword)\n    UsermemberID = String(userAccount.memberemail)\n    API.loginUser({     \n      userName: userName,      \n      password: password,\n\n    })    \n    .then(res => {\n      \n      const { data } = res.data;\n      if(res.data.error === \"Invalid Password\"){\n        console.log(res.data)\n        this.message = res.data.error        \n        this.setState({\n          isError: true,         \n          errorMessage: res.data.error,\n          memberemail: \" \",      \n          memberpassword: \" \",\n          message: res.data.error\n        })\n      } else if (res.data.error === \"User does not exist!\"){\n          console.log(res.data)\n          this.message = res.data.error         \n          this.setState({\n            isError: true,            \n            errorMessage: res.data.error,\n            memberemail: \" \",      \n            memberpassword: \" \",\n            message: res.data.error\n          })\n      \n      } else {\n    \n        this.setState({\n          redirect: true,\n          userName: data[0].memberId,\n          memberId: data[0].memberId,\n          membername: data[0].memberName,\n  \n        })\n        this.props.saveMemberID(userName, data[0].memberName)\n        \n        \n      }\n     \n    })    \n    .catch(err => console.log(err));      \n  };\n\n\n  render() {\n    if (this.state.redirect) {\n      this.props.saveMemberID(UsermemberID)\n      return <Redirect to='/UserPage' />\n    }    \n    return (\n      <div>            \n        <Container style={{ marginTop: 80 }}>\n          <div className=\"card card-body\">\n            {/* <div id=\"message\"></div> */}\n            <div id =\"message\">{this.message}</div>\n            <h4 className=\"text-center mb-3\">Sign In</h4>\n            <form className=\"form-groups\">          \n              <div className=\"form-group\">\n                <label id=\"username\">Username</label>\n                <input \n                  value={this.memberemail}\n                  onChange={this.handleInputChange}\n                  name=\"memberemail\"\n                  type=\"text\"\n                  className=\"form-control\"  \n                  placeholder=\"Enter Your Email\"\n                  id=\"memberemail\"\n                  />\n              </div>\n              <div className=\"form-group\">\n                <label id=\"password\">Password</label>\n                <input \n                  value={this.memberpassword}\n                  onChange={this.handleInputChange}\n                  name=\"memberpassword\"\n                  type=\"password\" \n                  className=\"form-control\" \n                  placeholder=\"Enter User Password\"\n                  id=\"memberpassword\" \n                  />\n              </div>\n              <span className=\"signin-btn\"><button type=\"submit\" onClick={this.signInSubmit} className=\"btn btn-primary float-left\">Sign In</button></span>\n            </form>\n            <p className=\"lead mt-4\">No Account? <a href=\"/Getstarted\">Create Account</a></p>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Signin;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}